# fins.mk contains the compiler and linker options for each target platform
include $(FINS_ROOT_DIR)/settings.finsmk

#This is the Module name. This MUST be that same as the current directory!!!
PROJECT_NAME = common 


#This is the list of objects needed to build the FINS core. NOTE: object files
#that contain a "main" function must NOT be included in this list!!!
OBJS = getMAC_Address.o metadata.o finstypes.o finstime.o finsthreads.o

#add the names of any executables that are added to this directory here.  This
#ensures that they will be removed by clean
EXECUTABLES =  

#This is an autogenerated list of includes used in this project
INCLUDES = $(shell ls | grep \\.h)


##### TARGETS #####
.PHONY:all
all:$(PROJECT_NAME) 
	@echo "$(PROJECT_NAME) is compiled\n"

$(PROJECT_NAME):$(OBJS)
	@echo $(addprefix "$(shell pwd)/", $(OBJS)) > OBJS.finsmk 

%.o:%.c $(INCLUDES)
	@$(CC) $(CFLAGS) -c $<	

.PHONY:clean
clean:
	@rm -f *.o 
	@rm -f $(EXECUTABLES) 
	@rm -f OBJS.finsmk


#not so phony in my book...
.PHONY:stu
stu:
	@cat .optional_targets/.stu

.PHONY:ferocious_feline
ferocious_feline:
	@cat .optional_targets/.cat
